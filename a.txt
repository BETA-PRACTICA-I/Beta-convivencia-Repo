{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/FormPaso3.css' %}">

<div class="form-container">
    <h2>DERIVACIONES</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="derivacion-block">
            <label>
                <input type="checkbox" id="chk_lesiones" name="tipo_derivacion" value="constatar_lesiones"
                    onclick="toggleBlock('block_lesiones', this)">
                Derivación a constatar lesiones
            </label>
            <div id="block_lesiones" class="derivacion-form" style="display:none;">
                <label>Fecha: <input type="date" name="fecha_lesiones"></label>
                <label>Institución: <input type="text" name="institucion_lesiones"></label>
                <label>Funcionario Responsable: <input type="text" name="funcionario_lesiones"></label>
                <label>Firma del Funcionario Responsable: <input type="text" name="firma_lesiones"></label>
                <label>Adjuntar documentación de respaldo:
                    <input type="file" name="respaldo_lesiones" accept=".pdf,.doc,.docx,image/*">
                </label>
            </div>
        </div>

        <div class="derivacion-block">
            <label>
                <input type="checkbox" id="chk_delito" name="tipo_derivacion" value="denuncia_delito"
                    onclick="toggleBlock('block_delito', this)">
                Denuncia (Si es constitutivo de delito)
            </label>
            <div id="block_delito" class="derivacion-form" style="display:none;">
                <label>Fecha: <input type="date" name="fecha_delito"></label>
                <label>Institución: <input type="text" name="institucion_delito"></label>
                <label>Funcionario Responsable: <input type="text" name="funcionario_delito"></label>
                <label>Firma del Funcionario Responsable: <input type="text" name="firma_delito"></label>
                <label>Adjuntar documentación de respaldo:
                    <input type="file" name="respaldo_delito" accept=".pdf,.doc,.docx,image/*">
                </label>
            </div>
        </div>

        <div class="derivacion-block">
            <label>
                <input type="checkbox" id="chk_tribunal" name="tipo_derivacion" value="tribunal_familia"
                    onclick="toggleBlock('block_tribunal', this)">
                Derivación a tribunal de familia
            </label>
            <div id="block_tribunal" class="derivacion-form" style="display:none;">
                <label>Fecha: <input type="date" name="fecha_tribunal"></label>
                <label>Institución: <input type="text" name="institucion_tribunal"></label>
                <label>Funcionario Responsable: <input type="text" name="funcionario_tribunal"></label>
                <label>Firma del Funcionario Responsable: <input type="text" name="firma_tribunal"></label>
                <label>Adjuntar documentación de respaldo:
                    <input type="file" name="respaldo_tribunal" accept=".pdf,.doc,.docx,image/*">
                </label>
            </div>
        </div>

        <div class="derivacion-block">
            <label>
                <input type="checkbox" id="chk_otras" name="tipo_derivacion" value="otras"
                    onclick="toggleBlock('block_otras', this)">
                Otras
            </label>
            <div id="block_otras" class="derivacion-form" style="display:none;">
                <label>Tipo de medida: <input type="text" name="tipo_medida_otras"></label>
                <label>Descripción: <textarea name="descripcion_otras" rows="3"></textarea></label>
                <label>Funcionario Responsable: <input type="text" name="funcionario_otras"></label>
                <label>Firma del Funcionario Responsable: <input type="text" name="firma_otras"></label>
                <label>Adjuntar documentación de respaldo:
                    <input type="file" name="respaldo_otras" accept=".pdf,.doc,.docx,image/*">
                </label>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Guardar y continuar</button>
    </form>
</div>

<script>
function toggleBlock(blockId, checkbox) {
    document.getElementById(blockId).style.display = checkbox.checked ? 'block' : 'none';
}
</script>
{% endblock %}